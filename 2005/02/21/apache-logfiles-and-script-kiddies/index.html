<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Apache, logfiles and script kiddies</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Théâtre Insomniaque</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Apache, logfiles and script kiddies</h2>
<p class="meta">21 Feb 2005</p>

<div class="post">
<p>So in the past few months, something has been whacking my server&#8217;s apache log files. I did some tracking down, and found some disappointing stuff. This is clearly someone attempting to exploit apache (or web servers in general), by sending invalid, and in fact, data designed to overflow the server process and grant some permissions.<br />
<!--more--></p>

<p>The log entries would look like this:<br />
<code>xx.yy.zz.aa - - [08/Feb/2005:07:11:45 -0700] "SEARCH /\x90\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02&lt;br /&gt;
\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02&lt;br /&gt;
\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02&lt;br /&gt;
\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02&lt;br /&gt;
... etc etc ad nauseum</code></p>

<p>In and of itself, this was a mere nuisance. The apache process is smarter than that, and just sends back a 414 (request too long), and drops it. The problem, however, occurs when I try to then later parse the logfile myself. Like, say &#8230; when I generate usage data for a site. The first step is to run &#8216;logresolve&#8217; (supplied by apache), against the file, and have it spit out the same file with all the domains resolved. Problem is: logresolve has NO CLUE how to deal with the above part of the logfile. Ah well, so whatever&#8230; I have a few months worth of bad and missing logfile data because of it. I&#8217;m testing my new script now to make sure it doesn&#8217;t happen again.</p>

<p>Joy</p>

<div class="addtoany_share_save_container addtoany_content_bottom">
  <div class="a2a_kit a2a_kit_size_32 a2a_target addtoany_list" id="wpa2a_82">
    <a class="a2a_button_tumblr" href="http://www.addtoany.com/add_to/tumblr?linkurl=http%3A%2F%2Fgeo.trippy.org%2F2005%2F02%2F21%2Fapache-logfiles-and-script-kiddies%2F&amp;linkname=Apache%2C%20logfiles%20and%20script%20kiddies" title="Tumblr" rel="nofollow" target="_blank"></a><a class="a2a_button_twitter_tweet addtoany_special_service" data-count="none" data-url="http://geo.trippy.org/2005/02/21/apache-logfiles-and-script-kiddies/" data-text="Apache, logfiles and script kiddies"></a><a class="a2a_button_google_plusone addtoany_special_service" data-annotation="none" data-href="http://geo.trippy.org/2005/02/21/apache-logfiles-and-script-kiddies/"></a><a class="a2a_button_google_plus" href="http://www.addtoany.com/add_to/google_plus?linkurl=http%3A%2F%2Fgeo.trippy.org%2F2005%2F02%2F21%2Fapache-logfiles-and-script-kiddies%2F&amp;linkname=Apache%2C%20logfiles%20and%20script%20kiddies" title="Google+" rel="nofollow" target="_blank"></a><a class="a2a_dd addtoany_share_save" href="http://www.addtoany.com/share_save"><img src="http://geo.trippy.org/wp-content/plugins/add-to-any/share_save_120_16.png" width="120" height="16" alt="Share" /></a>
  </div>
</div>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
